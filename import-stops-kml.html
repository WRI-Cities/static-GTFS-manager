<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>GTFS Manager : Import Stops by KML/Geojson</title>

    <!-- Fontfaces CSS-->
    <link href="css/font-face.css" rel="stylesheet" media="all">
    <link href="vendor/font-awesome-5/css/all.min.css" rel="stylesheet" media="all">

    <!-- Bootstrap CSS-->
    <link href="vendor/bootstrap-4.1/bootstrap.min.css" rel="stylesheet" media="all">

    <!-- Vendor CSS-->

    <link href="vendor/wow/animate.css" rel="stylesheet" media="all">
    <link href="vendor/css-hamburgers/hamburgers.min.css" rel="stylesheet" media="all">
    <link href="vendor/slick/slick.css" rel="stylesheet" media="all">
    <link href="vendor/select2/css/select2.min.css" rel="stylesheet" media="all">
    <link href="vendor/select2/css/select2-bootstrap4.min.css" rel="stylesheet" media="all">
    <link href="vendor/toast-0.7.1/toast.min.css" rel="stylesheet" media="all">

    <link href="vendor/tabulator-4.4.3/css/bootstrap/tabulator_bootstrap4.min.css" rel="stylesheet" media="all">
    <script src="vendor/tabulator-4.4.3/js/tabulator.min.js"></script>

    <!-- Main CSS-->
    <link href="css/theme.css" rel="stylesheet" media="all">
    <!-- Put the CSSs first and JSs next -->

</head>

<body class="page-content--bgf7">
    <div class="page-wrapper">
        <!-- HEADER DESKTOP-->
        <header class="header-desktop3 d-none d-lg-block">
            <div class="section__content section__content--p35">
                <div class="header3-wrap">
                    <div class="header__logo">
                        <a href="#">
                            <img src="extra_files/GTFS.png" width="52" height="170" alt="GTFS Manager" />
                        </a>
                    </div>
                    <div class="header__navbar" id="navmenuinsert">
                        <!-- menu will be inserted from menu.js.-->
                    </div>
                    <div class="form-inline my-2 my-md-0">
                        <input id="password" class="form-control mr-sm-2" type="text" placeholder="pw for edits" style="width:200px;" id="password">
                    </div>
                </div>
            </div>
        </header>
        <!-- END HEADER DESKTOP-->
        <!-- MAIN CONTENT-->
        <div class="page-content--bgf7">
            <div class="section__content section__content--p30">
                <div class="container-fluid p-t-20">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header">
                                    <strong class="card-title mb-3">Import Stops from KML or GeoJson File</strong>
                                </div>
                                <div class="card-body">
                                    <div class="form-group row">
                                        <label for="CSVFile" class="col-sm-4 col-form-label">Choose a file</label>
                                        <div class="col-sm-8">
                                            <input type="file" class="form-control-file" id="CSVFile">
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label for="CSVFile" class="col-sm-4 col-form-label">Or use a url</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="CSVUrl">
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-sm-8">
                                            <button class="btn btn-primary" id="CSVParse">Parse the KML/GeoJson</button>
                                        </div>
                                    </div>
                                    <hr />
                                    <div id="TempTable" class="table table-striped"></div>
                                    <hr />
                                    <div class="row">
                                        <div class="col">
                                            <div class="form-group row">
                                                <label for="inputEmail3" class="col-sm-4 col-form-label">stop_id</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" id="Columnstop_id">
                                                        <option value="">Do not import</option>
                                                        <option value="GENERATE">Generate a STOP_ID</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="inputEmail3" class="col-sm-4 col-form-label">stop_code</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" id="Columnstop_code">
                                                        <option value="">Do not import</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="inputEmail3" class="col-sm-4 col-form-label">stop_name</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" id="Columnstop_name">
                                                        <option value="">Do not import</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="inputEmail3" class="col-sm-4 col-form-label">stop_desc</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" id="Columnstop_desc">
                                                        <option value="">Do not import</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="inputEmail3" class="col-sm-4 col-form-label">stop_lat</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" id="Columnstop_lat">
                                                        <option value="">Do not import</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="inputEmail3" class="col-sm-4 col-form-label">stop_lon</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" id="Columnstop_lon">
                                                        <option value="">Do not import</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="inputEmail3" class="col-sm-4 col-form-label">zone_id</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" id="Columnzone_id">
                                                        <option value="">Do not import</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="inputEmail3" class="col-sm-4 col-form-label">stop_url</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" id="Columnstop_url">
                                                        <option value="">Do not import</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="inputEmail3" class="col-sm-4 col-form-label">location_type</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" id="Columnlocation_type">
                                                        <option value="">Do not import</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="inputEmail3" class="col-sm-4 col-form-label">parent_station</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" id="Columnparent_station">
                                                        <option value="">Do not import</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="inputEmail3" class="col-sm-4 col-form-label">stop_timezone</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" id="Columnstop_timezone">
                                                        <option value="">Do not import</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="inputEmail3" class="col-sm-4 col-form-label">wheelchair_boarding</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" id="Columnwheelchair_boarding">
                                                        <option value="">Do not import</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="inputEmail3" class="col-sm-4 col-form-label">level_id</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" id="Columnlevel_id">
                                                        <option value="">Do not import</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="inputEmail3" class="col-sm-4 col-form-label">platform_code</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" id="Columnplatform_code">
                                                        <option value="">Do not import</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col">
                                            <div class="jumbotron">
                                                Select the columns that you want import with the corsesponding columns of the stops.txt gtfs file. <br />
                                                If you don't have a unique id in the csv the choice for the stop_id field Generate a Stop_ID. You can import multiple csv to one stops table at ounce.
                                                Importing to the stops table will not update or add the stops to the system. You have to push te <b>Import in the system</b> button.
                                            </div>
                                            <div class="row">
                                                <div class="col">
                                                    Duplicate check based on Column: <select id="DuplicateCheck" class="form-control"><option value="NO-Check">No duplicate check</option></select>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col">
                                                    <button type="button" class="btn btn-primary" id="ImportToStopsTable">Import to Stops Table</button>
                                                </div>
                                            </div>
                                            <br />
                                            <div class="row">
                                                <div class="col">
                                                    <div class="progress">
                                                        <div class="progress-bar progress-bar-striped" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="">0%</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr />
                                    <div id="StopsTable" class="table table-striped"></div>

                                </div>
                                <div class="card-footer">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- END MAIN CONTENT-->
        <!-- END PAGE CONTAINER-->
    </div>

    <!-- The Modals -->
    <div class="modal" tabindex="-1" role="dialog" id="SplitModal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Split Column</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group row">
                        <label for="SplitSourceColumn" class="col-sm-6 col-form-label">Source Column:</label>
                        <div class="col-sm-6">
                            <select id="SplitSourceColumn" class="form-control"></select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="SplitFirst" class="col-sm-6 col-form-label">SplitFirst ... Chars:</label>
                        <div class="col-sm-6">
                            <input type="text" class="form-control" id="SplitFirst" placeholder="4">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="SplitPostition" class="col-sm-6 col-form-label">... Chars:</label>
                        <div class="col-sm-6">
                            <input type="text" class="form-control" id="SplitPostition" placeholder="0">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="SplitDestinationColumn" class="col-sm-6 col-form-label">Destination Column:</label>
                        <div class="col-sm-6">
                            <select id="SplitDestinationColumn" class="form-control"></select>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">                    
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button id="SplitButton" class="btn btn-primary">Split</button>
                </div>
            </div>
        </div>
    </div>
    <!-- End The Modal -->
    <!-- The Modals -->
    <div class="modal" tabindex="-1" role="dialog" id="SpliceModal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Remove Chars from Column</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group row">
                        <label for="SplitSourceColumn" class="col-sm-6 col-form-label">Source Column:</label>
                        <div class="col-sm-6">
                            <select id="SpliceSourceColumn" class="form-control"></select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="SplitFirst" class="col-sm-6 col-form-label">Start position</label>
                        <div class="col-sm-6">
                            <input type="text" class="form-control" id="SpliceFirst" placeholder="0">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="SplitPostition" class="col-sm-6 col-form-label">... Chars:</label>
                        <div class="col-sm-6">
                            <input type="text" class="form-control" id="SplicePostition" placeholder="0">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="SplitDestinationColumn" class="col-sm-6 col-form-label">End of string:</label>
                        <div class="col-sm-6">
                            <input type="checkbox" id="SpliceStringLength">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">                    
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button id="SpliceButton" class="btn btn-primary">Remove Chars</button>
                </div>
            </div>
        </div>
    </div>
    <!-- End The Modal -->

    <!-- Jquery JS-->
    <script src="vendor/jquery-3.2.1.min.js"></script>
    <!-- Bootstrap JS-->
    <script src="vendor/bootstrap-4.1/popper.min.js"></script>
    <script src="vendor/bootstrap-4.1/bootstrap.min.js"></script>
    <!-- Vendor JS       -->
    <script src="vendor/circle-progress/circle-progress.min.js"></script>
    <script src="vendor/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="vendor/select2/js/select2.min.js"></script>
    <script src="vendor/papaparse-5.0/papaparse.js" type="text/javascript"></script>
    <script src="vendor/toast-0.7.1/toast.min.js"></script>
    <!-- Form validator-->
    <script src="vendor/togeojson/togeojson.js"></script>

    <!-- Main JS-->
    <script src="js/main.js"></script>
    <script src="js/menu.js"></script>



    <script src="config/settings.js" type="text/javascript"></script>
    <script src="js/commonfuncs.js" type="text/javascript"></script>
    <script src="js/import-stops-kml.js"></script>


</body>

</html>